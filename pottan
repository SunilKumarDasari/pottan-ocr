#!/usr/bin/env bash


datagen(){
  ./gen-glyph-list.js
  python3 ./data_gen.py "$@"
  # ipython3 --matplotlib=tk ./data_gen.py
}

train(){
  python3 train.py "$@" # --traindata ./data/train_data.npz --valdata ./data/validate_data.npz
  # ipython3 --matplotlib=tk train.py -- --traindata ./data/train_data.npz --valdata ./data/validate_data.npz
}

extractWikiDump(){
  node ./collect-wiki-data.js "$@"
}




if [ -z $1 ]; then
  cat<<EOF
Usage:
./pottan <command> [ arguments ]

List of available commands ( See '--help' of individual command for more details ):

    datagen         - Prepare training data from data/train.txt & data/validate.txt.

    train           - Run the training

    extractWikiDump - Extract words from wiki xml dump. Output written to stdout. Should be saved as data/<name>.txt
EOF
else
  cmd=$1
  shift
  $cmd "$@"
fi

